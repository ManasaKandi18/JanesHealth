{"ast":null,"code":"var _jsxFileName = \"/Users/manasareddykandi/my-ap/src/App.mjs\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// This holds a list of some fiction people\n// Some  have the same name but different age and id\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [productList, setProductList] = useState([]);\n  useEffect(() => {\n    // Function to fetch data from the API\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/books', {\n          method: \"GET\",\n          mode: 'cors'\n        });\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const jsonData = await response.json();\n        setProductList(jsonData);\n      } catch (error) {\n        console.error('Error fetching data:', error.message);\n      }\n    };\n\n    // Call the fetchData function\n    fetchData();\n  }, []); // The empty dependency array ensures that useEffect runs only once (on component mount)\n  console.log('setProductList', productList);\n  const [name, setName] = useState(\"\");\n  const [filteredVal, setFilteredVal] = useState(\"\");\n  // the search result\n  const [foundUsers, setFoundUsers] = useState(productList);\n  const searchProductName = filteredVal;\n  // Filter the array to include only objects with matching product name\n  const filteredArray = foundUsers.filter(({\n    product\n  }) => product === searchProductName);\n\n  // Sort the filtered array based on the 'product price' property in ascending order\n  filteredArray.sort((a, b) => a.productPrice - b.productPrice);\n\n  // Get the three objects with the lowest prices\n  let threeLowestPrices = filteredArray.slice(0, 3);\n  const nestedArray = threeLowestPrices.map(product => Object.values(product));\n  const nestedAllArray = foundUsers.map(product => Object.values(product));\n  function download_csv_file() {\n    //define the heading for each row of the data\n    console.log(\"nestedArray\", nestedArray);\n    var csv = \"Product,Product Price, Link\\n\";\n\n    //merge the data with CSV\n    if (nestedArray.length !== 0) {\n      nestedArray.forEach(function (row) {\n        csv += row.join(\",\");\n        csv += \"\\n\";\n      });\n    } else {\n      nestedAllArray.forEach(function (row) {\n        csv += row.join(\",\");\n        csv += \"\\n\";\n      });\n    }\n\n    //display the created CSV data on the web browser\n    document.write(csv);\n    var hiddenElement = document.createElement(\"a\");\n    hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURI(csv);\n    hiddenElement.target = \"_blank\";\n\n    //provide the name for the CSV file to be downloaded\n    hiddenElement.download = \"Lowest Prices Lists.csv\";\n    hiddenElement.click();\n  }\n  const filter = e => {\n    const keyword = e.target.value;\n    setFilteredVal(e.target.value);\n    if (keyword !== \"\") {\n      const results = productList.filter(user => {\n        return user.product.toLowerCase().startsWith(keyword.toLowerCase());\n        // Use the toLowerCase() method to make it case-insensitive\n      });\n\n      setFoundUsers(results);\n    } else {\n      setFoundUsers(productList);\n      // If the text field is empty, show all users\n    }\n\n    setName(keyword);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"search\",\n      value: name,\n      onChange: filter,\n      className: \"input\",\n      placeholder: \"Filter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => download_csv_file(),\n      children: \"Download CSV(Three lowest prices)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-list\",\n      style: {\n        justifyItems: \"center\"\n      },\n      children: foundUsers && foundUsers.length > 0 ? foundUsers.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"user\",\n        style: {\n          borderBottom: \"1px solid\",\n          listStyle: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-id\",\n          children: user.product\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.path,\n            width: \"300px\",\n            alt: \"Mountain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-name\",\n          children: [\" Price: \", user.productPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No results found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"k8l2fodzzNPQVcEvXe3Y2vm6LsE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","productList","setProductList","fetchData","response","fetch","method","mode","ok","Error","jsonData","json","error","console","message","log","name","setName","filteredVal","setFilteredVal","foundUsers","setFoundUsers","searchProductName","filteredArray","filter","product","sort","a","b","productPrice","threeLowestPrices","slice","nestedArray","map","Object","values","nestedAllArray","download_csv_file","csv","length","forEach","row","join","document","write","hiddenElement","createElement","href","encodeURI","target","download","click","e","keyword","value","results","user","toLowerCase","startsWith","className","children","type","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","justifyItems","borderBottom","listStyle","src","path","width","alt","id","_c","$RefreshReg$"],"sources":["/Users/manasareddykandi/my-ap/src/App.mjs"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\n\n// This holds a list of some fiction people\n// Some  have the same name but different age and id\n\n\nfunction App() {\n \n  \n  const [productList, setProductList] = useState([]);\n  \n  \n \n\n  useEffect(() => {\n    // Function to fetch data from the API\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/books', {\n          method : \"GET\",\n          mode: 'cors',\n      });\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const jsonData = await response.json();\n        setProductList(jsonData);\n      } catch (error) {\n        console.error('Error fetching data:', error.message);\n      }\n    };\n  \n    // Call the fetchData function\n    fetchData();\n  }, []); // The empty dependency array ensures that useEffect runs only once (on component mount)\nconsole.log('setProductList', productList);\n\n\n  const [name, setName] = useState(\"\");\n  const [filteredVal, setFilteredVal] = useState(\"\");\n  // the search result\n  const [foundUsers, setFoundUsers] = useState(productList);\n  const searchProductName = filteredVal;\n  // Filter the array to include only objects with matching product name\n  const filteredArray = foundUsers.filter(\n    ({ product }) => product === searchProductName\n  );\n\n  // Sort the filtered array based on the 'product price' property in ascending order\n  filteredArray.sort((a, b) => a.productPrice - b.productPrice);\n\n  // Get the three objects with the lowest prices\n  let threeLowestPrices = filteredArray.slice(0, 3);\n\n  const nestedArray = threeLowestPrices.map((product) =>\n    Object.values(product)\n  );\n  const nestedAllArray = foundUsers.map((product) => Object.values(product));\n  function download_csv_file() {\n    //define the heading for each row of the data\n    console.log(\"nestedArray\", nestedArray);\n    var csv = \"Product,Product Price, Link\\n\";\n\n    //merge the data with CSV\n    if (nestedArray.length !== 0) {\n      nestedArray.forEach(function (row) {\n        csv += row.join(\",\");\n        csv += \"\\n\";\n      });\n    } else {\n      nestedAllArray.forEach(function (row) {\n        csv += row.join(\",\");\n        csv += \"\\n\";\n      });\n    }\n\n    //display the created CSV data on the web browser\n    document.write(csv);\n\n    var hiddenElement = document.createElement(\"a\");\n    hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURI(csv);\n    hiddenElement.target = \"_blank\";\n\n    //provide the name for the CSV file to be downloaded\n    hiddenElement.download = \"Lowest Prices Lists.csv\";\n    hiddenElement.click();\n  }\n  const filter = (e) => {\n    const keyword = e.target.value;\n    setFilteredVal(e.target.value);\n    if (keyword !== \"\") {\n      const results = productList.filter((user) => {\n        return user.product.toLowerCase().startsWith(keyword.toLowerCase());\n        // Use the toLowerCase() method to make it case-insensitive\n      });\n      setFoundUsers(results);\n    } else {\n      setFoundUsers(productList);\n      // If the text field is empty, show all users\n    }\n\n    setName(keyword);\n  };\n\n  return (\n    <div className=\"container\">\n      <input\n        type=\"search\"\n        value={name}\n        onChange={filter}\n        className=\"input\"\n        placeholder=\"Filter\"\n      />\n      <button onClick={() => download_csv_file()}>\n        Download CSV(Three lowest prices)\n      </button>\n      <div className=\"user-list\" style={{ justifyItems: \"center\" }}>\n        {foundUsers && foundUsers.length > 0 ? (\n          foundUsers.map((user) => (\n            <li\n              key={user.id}\n              className=\"user\"\n              style={{ borderBottom: \"1px solid\", listStyle: \"none\" }}\n            >\n              <div className=\"user-id\">{user.product}</div>\n\n              <div>\n                <img src={user.path} width=\"300px\" alt=\"Mountain\" />\n              </div>\n              <div className=\"user-name\"> Price: {user.productPrice}</div>\n            </li>\n          ))\n        ) : (\n          <h1>No results found!</h1>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}